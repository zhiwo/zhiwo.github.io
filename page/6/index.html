<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="知我">
<meta property="og:url" content="http://hi.holdlg.com/page/6/index.html">
<meta property="og:site_name" content="知我">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="知我">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> 知我 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?6adc065ab3239e94c39287e9a4b71c1f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">知我</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    
      
      

      
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/09/04/20132015/flask-sqlalchemy-e5-85-b3-e8-81-94-e5-85-b3-e7-b3-bb-e8-af-b4-e6-98-8e/" itemprop="url">
                  flask-sqlalchemy  关联关系说明
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-09-04T03:49:15+08:00" content="2014-09-04">
              2014-09-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>sqlalchemy.exc.AmbiguousForeignKeysError:<br>Could not determine join condition between parent/child tables on relationship UserInfo.role - there are multiple foreign key paths linking the tables.<br>Specify the ‘foreign_keys’ argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.</p>
<p>异常说的是。UserInfo.role 引用关系不明确写法：<strong><span style="color: #008000;"> role = db.relationship(‘RoleInfo’)  </span></strong></p>
<p>正确写法如下举例：</p>
<p>class UserInfo(db.Model):<br>——- id = db.Column(db.Integer, primary_key=True)<br>——- role_id = db.Column(db.Integer, db.ForeignKey(‘role_info.id’))<br>——-<strong><span style="color: #008000;"> role = db.relationship(‘RoleInfo’, foreign_keys=[role_id])</span></strong><br>——- creator = db.Column(db.Integer, db.ForeignKey(‘user_info.id’))<br>——- creator_obj = db.relationship(‘UserInfo’, <strong><span style="color: #800000;">remote_side=id</span></strong>)</p>
<p>class RoleInfo(db.Model):<br>——id = db.Column(db.Integer, primary_key=True)<br>——creator = db.Column(db.Integer, db.ForeignKey(‘user_info.id’))<br>——creator_obj = db.relationship(‘UserInfo’,<strong><span style="color: #800000;"> primaryjoin=’RoleInfo.creator==UserInfo.id’</span></strong>)</p>
<p>&nbsp;</p>
<p>关联自己需要用到 <strong><span style="color: #800000;">remote_side</span></strong> 属性。</p>
<p>&nbsp;</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/08/29/20132015/android自定义GridView网格线/" itemprop="url">
                  Android  自定义GridView网格线
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-08-29T07:34:02+08:00" content="2014-08-29">
              2014-08-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>这个问题遗留了好长时间，一直无从下手，今天终于解决了</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="line number1 index0 alt2" style="color: #000000;"><code>public class LineGridView extends GridView{</code></div><br><div class="line number2 index1 alt1" style="color: #000000;"><code>``public LineGridView(Context context) {</code></div><br><div class="line number3 index2 alt2" style="color: #000000;"><code>``super``(context);</code></div><br><div class="line number4 index3 alt1" style="color: #000000;"><code>``// TODO Auto-generated constructor stub</code></div><br><div class="line number5 index4 alt2" style="color: #000000;"><code>``}</code></div><br><div class="line number6 index5 alt1" style="color: #000000;"><code>``public LineGridView(Context context, AttributeSet attrs) {</code></div><br><div class="line number7 index6 alt2" style="color: #000000;"><code>``super``(context, attrs);</code></div><br><div class="line number8 index7 alt1" style="color: #000000;"><code>``}</code></div><br><div class="line number9 index8 alt2" style="color: #000000;"><code>``public LineGridView(Context context, AttributeSet attrs, int defStyle) {</code></div><br><div class="line number10 index9 alt1" style="color: #000000;"><code>``super``(context, attrs, defStyle);</code></div><br><div class="line number11 index10 alt2" style="color: #000000;"><code>``}</code></div><br><div class="line number12 index11 alt1" style="color: #000000;"><code>``@Override</code></div><br><div class="line number13 index12 alt2" style="color: #000000;"><code>``protected void dispatchDraw(Canvas canvas){</code></div><br><div class="line number14 index13 alt1" style="color: #000000;"><code>``super``.dispatchDraw(canvas);</code></div><br><div class="line number15 index14 alt2" style="color: #000000;"><code>``View localView1 = getChildAt(0);</code></div><br><div class="line number16 index15 alt1" style="color: #000000;"><code>``int column = getWidth() / localView1.getWidth();</code></div><br><div class="line number17 index16 alt2" style="color: #000000;"><code>``int childCount = getChildCount();</code></div><br><div class="line number18 index17 alt1" style="color: #000000;"><code>``Paint localPaint;</code></div><br><div class="line number19 index18 alt2" style="color: #000000;"><code>``localPaint = ``new</code> <code>Paint();</code></div><br><div class="line number20 index19 alt1" style="color: #000000;"><code>``localPaint.setStyle(Paint.Style.STROKE);</code></div><br><div class="line number21 index20 alt2" style="color: #000000;"><code>``localPaint.setColor(getContext().getResources().getColor(R.color.grid_line));</code></div><br><div class="line number22 index21 alt1" style="color: #000000;"><code>``for``(int i = 0;i &amp;lt; childCount;i++){</code></div><br><div class="line number23 index22 alt2" style="color: #000000;"><code>``View cellView = getChildAt(i);</code></div><br><div class="line number24 index23 alt1" style="color: #000000;"><code>``if``((i + 1) % column == 0&amp;amp;&amp;amp;i&amp;lt;column){         // 第一列画头顶线显示底部线</code></div><br><div class="line number25 index24 alt2" style="color: #000000;"><code>``canvas.drawLine(cellView.getLeft(), cellView.getBottom(), cellView.getRight(), cellView.getBottom(), localPaint);</code></div><br><div class="line number26 index25 alt1" style="color: #000000;"><code>``}``else</code> <code>if``((i + 1) &amp;gt; (childCount - (childCount % column))){       // 边界处理（最后一行）画右边垂直隔离线</code></div><br><div class="line number27 index26 alt2" style="color: #000000;"><code>``canvas.drawLine(cellView.getRight(), cellView.getTop(), cellView.getRight(), cellView.getBottom(), localPaint);</code></div><br><div class="line number28 index27 alt1" style="color: #000000;"><code>``}``else``{</code></div><br><div class="line number28 index27 alt1" style="color: #000000;">                                 if（i&lt;column）  // 其他列，画右边隔离线，与底线</div><br><div class="line number28 index27 alt1" style="color: #000000;">                                  {</div><br><div class="line number28 index27 alt1" style="color: #000000;"></div><br><div class="line number29 index28 alt2" style="color: #000000;"><code>``canvas.drawLine(cellView.getRight(), cellView.getTop(), cellView.getRight(), cellView.getBottom(), localPaint);</code></div><br><div class="line number30 index29 alt1" style="color: #000000;"><code>``canvas.drawLine(cellView.getLeft(), cellView.getBottom(), cellView.getRight(), cellView.getBottom(), localPaint);</code></div><br><div class="line number30 index29 alt1" style="color: #000000;"><code>}</code></div><br><div class="line number30 index29 alt1" style="color: #000000;">                         else//如果gridview分页，第一页有底线，这样可以去掉底线， // 其他列，画右边隔离线</div><br><div class="line number30 index29 alt1" style="color: #000000;">                               {</div><br><div class="line number30 index29 alt1" style="color: #000000;"><code>``canvas.drawLine(cellView.getRight(), cellView.getTop(), cellView.getRight(), cellView.getBottom(), localPaint);</code></div><br><div class="line number30 index29 alt1" style="color: #000000;">                                 }</div><br><div class="line number31 index30 alt2" style="color: #000000;"><code>``}</code></div><br><div class="line number32 index31 alt1" style="color: #000000;"><code>``}</code></div><br><div class="line number32 index31 alt1" style="color: #000000;">               // 确保最后一行，没有填满的单元格右侧也好垂直隔离线（注意与上面代码 else if 的关系）</div><br><div class="line number33 index32 alt2" style="color: #000000;"><code>``if``(childCount % column != 0){</code></div><br><div class="line number34 index33 alt1" style="color: #000000;"><code>``for``(int j = 0 ;j &amp;lt; (column-childCount % column) ; j++){</code></div><br><div class="line number35 index34 alt2" style="color: #000000;"><code>``View lastView = getChildAt(childCount - 1);</code></div><br><div class="line number36 index35 alt1" style="color: #000000;"><code>``canvas.drawLine(lastView.getRight() + lastView.getWidth() * j, lastView.getTop(), lastView.getRight() + lastView.getWidth()* j, lastView.getBottom(), localPaint);</code></div><br><div class="line number37 index36 alt2" style="color: #000000;"><code>``}</code></div><br><div class="line number38 index37 alt1" style="color: #000000;"><code>``}</code></div><br><div class="line number39 index38 alt2" style="color: #000000;"><code>``}</code></div><br><div class="line number40 index39 alt1" style="color: #000000;"><code>}</code></div><br><div class="line number40 index39 alt1" style="color: #000000;"></div><br><div class="line number40 index39 alt1" style="color: #000000;"><br><br>在<code>dispatchDraw</code>方法中，我们对每一个子view的边界按照一定的方式绘上了边框，一般一个格子只需绘制其中两条边，需要注意的是最边上的格子需要特殊处理。<code>super``.dispatchDraw(canvas);</code>一定要调用，不然格子中的内容（子view）就得不到绘制的机会，结果就如下面这样：<br><br><img src="http://www.jcodecraeer.com/uploads/20131227/13881504312676.png" alt="" title="device-2013-12-27-211055.png"><br><br></div>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/08/27/20132015/android-xml布局大小/" itemprop="url">
                  Android  获取xml布局大小
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-08-27T03:41:48+08:00" content="2014-08-27">
              2014-08-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">View</span> view = getLayoutInflater<span class="literal">()</span>.inflate(<span class="type">R</span>.layout.item_book,null);</span><br><span class="line">view.setLayoutParams(new <span class="type">LayoutParams</span>(<span class="type">LayoutParams</span>.<span class="type">MATCH_PARENT</span>, <span class="type">LayoutParams</span>.<span class="type">MATCH_PARENT</span>));</span><br><span class="line"><span class="built_in">int</span> w = <span class="type">View</span>.<span class="type">MeasureSpec</span>.makeMeasureSpec(<span class="number">0</span>,<span class="type">View</span>.<span class="type">MeasureSpec</span>.<span class="type">UNSPECIFIED</span>);</span><br><span class="line"><span class="built_in">int</span> h = <span class="type">View</span>.<span class="type">MeasureSpec</span>.makeMeasureSpec(<span class="number">0</span>,<span class="type">View</span>.<span class="type">MeasureSpec</span>.<span class="type">UNSPECIFIED</span>);</span><br><span class="line">view.measure(w, h);</span><br><span class="line"><span class="built_in">int</span> width =view.getMeasuredWidth<span class="literal">()</span>+<span class="number">40</span>;</span><br><span class="line"></span><br><span class="line">屏幕宽度：getResources<span class="literal">()</span>.getDisplayMetrics<span class="literal">()</span>.widthPixels</span><br><span class="line"><span class="built_in">int</span> colnum = (<span class="built_in">int</span>) (((getResources<span class="literal">()</span>.getDisplayMetrics<span class="literal">()</span>.widthPixels )) / width);</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/08/25/20132015/viewflipper-e5-92-8c-listview-e6-bb-91-e5-8a-a8-e5-86-b2-e7-aa-81/" itemprop="url">
                  ViewFlipper 和 listview 滑动冲突
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-08-25T02:31:25+08:00" content="2014-08-25">
              2014-08-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>当 ViewFlipper <wbr> 左右滑动和listview的上下滑动冲突时，哈哈以下解决办法：</p>
<p> <wbr></p>
<p>@Override<br><wbr>public boolean onTouch(View arg0, MotionEvent arg1) {<br><wbr> <wbr>System.out.println(“Touch::::::::::::::::::::”);<br><wbr> <wbr>super.onTouchEvent(arg1);<br><wbr> <wbr>return gd.onTouchEvent(arg1);<br><wbr>}</p>
<p> <wbr></p>
<p> <wbr></p>
<p><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;">@Override</span><br><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;">public boolean dispatchTouchEvent(MotionEvent ev) {</span><br><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;">// 先执行滑屏事件</span><br><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;">gd.onTouchEvent(ev);</span><br><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;">super.dispatchTouchEvent(ev);</span><br><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;">return true;</span><br><span style="color: #464646;"> </span><wbr style="color: #464646;"><span style="color: #464646;">}</span></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/08/20/20132015/android命令/" itemprop="url">
                  Android  命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-08-20T04:54:28+08:00" content="2014-08-20">
              2014-08-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>一、命令查看端口</p>
<p>5037为adb默认端口 查看该端口情况如下：</p>
<p>netstat -aon|findstr “5037”</p>
<p>TCP 127.0.0.1:5037 0.0.0.0:0 LISTENING 6540</p>
<p>发现6540占用了 5037端口，继续查看6540的task，发现是wandoujia .如下所示</p>
<p>tasklist|findstr “6540”</p>
<p>wandoujia_daemon.exe 6540 Console 1 4,276 K</p>
<p>接下来问题就好解决了，在任务管理器kill掉wandoujia_daemon.exe ，运行android程序，ok .</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/08/18/20132015/Android-apk操作/" itemprop="url">
                  Android apk操作
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-08-18T09:59:52+08:00" content="2014-08-18">
              2014-08-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>/**</p>
<ul>
<li>判断apk是否安装过</li>
<li>@param pm</li>
<li>@param packageName 包名</li>
<li>@param versionCode 版本号</li>
<li>@return<br>*/<br>private int doType(PackageManager pm,String packageName,int versionCode)<br>{<br>List&lt;PackageInfo&gt; pakageinfos=pm.getInstalledPackages(PackageManager.GET_UNINSTALLED_PACKAGES);<br>for(PackageInfo info:pakageinfos){<br>String pi_packageName=info.packageName;<br>int pi_versionCode=info.versionCode;<br>//如果包名在系统已经安装过的应用中存在<br>if(packageName.endsWith(pi_packageName))<br>{<br>if(versionCode==pi_versionCode)<br>{<br>Log.i(TAG, “已经安装，不用更新，可以卸载该应用”);<br>return INSTALLED;<br>}else if(versionCode&gt;pi_versionCode)<br>{<br>Log.i(TAG, “已经安装，有更新”);<br>return INSTALLED_UPDATE;<br>}<br>}<br>}<br>Log.i(TAG, “未安装”);<br>return UNINSTALLED;<br>}</li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>/**</p>
<ul>
<li>判断本地是否有apk 及apk是否完整</li>
<li>@return<br>*/<br>private PackageInfo apkIntact() {<br>File apkfile = new File(Conf.APP_INSTALL, Conf.fileName);<br>if (apkfile.exists()) {<br>String name = apkfile.getName();<br>if (name.toLowerCase().endsWith(“.apk”)) {<br>PackageManager pm = MainActivity.this.getPackageManager();<br>String apk_path = apkfile.getAbsolutePath();// apk文件的绝对路劲<br>PackageInfo packageInfo = pm.getPackageArchiveInfo(apk_path,PackageManager.GET_ACTIVITIES);<br>if (packageInfo != null) {<br>return packageInfo;<br>}</li>
</ul>
<p>}<br>}<br>return null;<br>}</p>
<p>&nbsp;</p>
<p>//安装本地APK<br>private void installApk(String noteInfo, String newVersionName)<br>{<br>AlertDialog dialog;<br>AlertDialog.Builder builder = new AlertDialog.Builder(this);<br>builder.setTitle(“发现新版本” + newVersionName);<br>builder.setMessage(noteInfo);<br>//弹出框显示时，拦击系统键<br>builder.setOnKeyListener(new DialogInterface.OnKeyListener() {</p>
<p>@Override<br>public boolean onKey(DialogInterface arg0, int keyCode,<br>KeyEvent arg2) {<br>if (keyCode == KeyEvent.KEYCODE_BACK) {<br>return true;<br>} else {<br>return false;<br>}<br>}<br>});<br>builder.setPositiveButton(“立即升级”,<br>new DialogInterface.OnClickListener() {<br>@Override<br>public void onClick(DialogInterface dialog, int which) {<br>dialog.dismiss();<br>File apkfile = new File(Conf.APP_INSTALL, Conf.fileName);<br>Toast.makeText(MainActivity.this, “开始安装”, Toast.LENGTH_SHORT).show();<br>// 通过Intent安装APK文件<br>Intent i = new Intent(Intent.ACTION_VIEW);<br>i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);<br>i.setDataAndType(Uri.parse(“file://“ + apkfile.toString()),”application/vnd.android.package-archive”);<br>startActivity(i);<br>}<br>});</p>
<p>dialog = builder.create();<br>dialog.setCanceledOnTouchOutside(false);<br>dialog.show();<br>}</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/08/08/20132015/python时间加减运算/" itemprop="url">
                  python 时间加减运算
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-08-08T03:07:45+08:00" content="2014-08-08">
              2014-08-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <blockquote>
<blockquote>
<blockquote>
<p>import datetime<br>d1 = datetime.datetime.now()<br>d1.strftime(“%Y-%m-%d %H:%M:%S”)<br>‘2013-09-02 17:11:07’<br>d2 = d1 + datetime.timedelta(seconds=10)#增加10秒<br>d2.strftime(“%Y-%m-%d %H:%M:%S”)<br>‘2013-09-02 17:11:17’<br>d2 = d1 + datetime.timedelta(minutes=10)#增加10分钟<br>d2.strftime(“%Y-%m-%d %H:%M:%S”)<br>‘2013-09-02 17:21:07’<br>d2 = d1 + datetime.timedelta(hours=10)#增加10小时<br>d2.strftime(“%Y-%m-%d %H:%M:%S”)<br>‘2013-09-03 03:11:07’<br>d2 = d1 + datetime.timedelta(days=10)#增加10天<br>d2.strftime(“%Y-%m-%d %H:%M:%S”)<br>‘2013-09-12 17:11:07’<br>d2 = d1 - datetime.timedelta(seconds=10)#减去10秒<br>d2.strftime(“%Y-%m-%d %H:%M:%S”)<br>‘2013-09-02 17:11:57’<br>d2 = d1 - datetime.timedelta(minutes=10)#增加10分钟<br>d2.strftime(“%Y-%m-%d %H:%M:%S”)<br>‘2013-09-02 17:01:07’<br>d2 = d1 - datetime.timedelta(hours=10)#减去10小时<br>d2.strftime(“%Y-%m-%d %H:%M:%S”)<br>‘2013-09-02 07:11:07’<br>d2 = d1 - datetime.timedelta(days=10)#减去10天<br>d2.strftime(“%Y-%m-%d %H:%M:%S”)<br>‘2013-08-23 17:11:07’</p>
</blockquote>
</blockquote>
</blockquote>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/07/30/20132015/textview-e6-80-8e-e4-b9-88-e8-8e-b7-e5-8f-96-e9-87-8c-e9-9d-a2-e7-9a-84-e8-b6-85-e9-93-be-e6-8e-a5-e5-9c-b0-e5-9d-80/" itemprop="url">
                  TextView 怎么获取里面的超链接地址
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-07-30T10:03:13+08:00" content="2014-07-30">
              2014-07-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>TextView contentView = (TextView) findViewById(R.id.content);</p>
<p>CharSequence text = contentView.getText();<br>if (text instanceof Spannable) {<br>int end = text.length();<br>Spannable sp = (Spannable) contentView.getText();<br>URLSpan[] urls = sp.getSpans(0, end, URLSpan.class);<br>SpannableStringBuilder style = new SpannableStringBuilder(text);<br>style.clearSpans();// should clear old spans<br>for (URLSpan url : urls) {</p>
<p>MyURLSpan myURLSpan = new MyURLSpan(url.getURL());<br>style.setSpan(myURLSpan, sp.getSpanStart(url), sp.getSpanEnd(url), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);<br>}<br>contentView.setText(style);<br>}<br>}</p>
<p>//重新自定义链接地址</p>
<p>private class MyURLSpan extends ClickableSpan {</p>
<p>private String mUrl;</p>
<p>MyURLSpan(String url) {<br>mUrl = url;<br>}</p>
<p>@Override<br>public void onClick(View widget) {<br>TextView tv = (TextView) widget;<br>String content=tv.getText().toString().trim();</p>
<p>System.out.println(“mUrl:::::::::::::::::::::”+content);</p>
<p>}<br>}<br>}</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/07/25/20132015/IndexableListView中button无效/" itemprop="url">
                  IndexableListView 中button无效
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-07-25T07:31:54+08:00" content="2014-07-25">
              2014-07-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <div>这是一个网上的开源项目，用来设置索引，用来实现向微信通讯录的那种列表，用了之后发现listView中的button点击无效，原来是下面几行代码再做鬼</div><br><div>注释掉</div><br><div>// @Override</div><br><div>// public boolean onInterceptTouchEvent(MotionEvent ev) {</div><br><div>// return true;</div><br><div>// }</div>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/07/14/20132015/pip-error01/" itemprop="url">
                  pip install MySQL-python error: unable to find vcvarsall.bat
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2014-07-14T09:11:48+08:00" content="2014-07-14">
              2014-07-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/MySQL/" itemprop="url" rel="index">
                    <span itemprop="name">MySQL</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/MySQL/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>啊哦，可以不用pip的话，下载exe安装也是 妥妥的。</p>
<p><a href="http://www.codegood.com/downloads" target="_blank" rel="external">http://www.codegood.com/downloads</a></p>
<p>&nbsp;</p>
<p>有一点需要小记一下：下载的时候确认你的 <strong>python 版本 </strong>是32bit 还是 64bit。不懂可以 cmd-&gt;python–&gt;看头信息 。 和操作系统的32bit , 64bit 没有半毛钱关系。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/uploads/images/logo_ljl.jpg" alt="Spicy sister" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Spicy sister</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">185</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">39</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">65</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Spicy sister</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    
    

  


  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
